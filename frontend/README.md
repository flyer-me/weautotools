# WeAutoMarket Frontend

åŸºäº uniapp + Vue3 çš„è‡ªåŠ¨åŒ–åŒ…äº¤æ˜“å¹³å°å‰ç«¯é¡¹ç›®

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend/src/
â”œâ”€â”€ api/                    # APIæ¥å£ç®¡ç†
â”‚   â””â”€â”€ index.js           # ç»Ÿä¸€çš„APIæ¥å£å®šä¹‰
â”œâ”€â”€ components/            # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ TabBar.vue        # åº•éƒ¨å¯¼èˆªæ ï¼ˆæ”¯æŒçº¢ç‚¹å¾½ç« ï¼‰
â”‚   â”œâ”€â”€ GoodsCard.vue     # äº§å“å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ MessageItem.vue   # æ¶ˆæ¯é¡¹ç»„ä»¶
â”‚   â”œâ”€â”€ EmptyState.vue    # ç©ºçŠ¶æ€ç»„ä»¶
â”‚   â””â”€â”€ LoadingState.vue  # åŠ è½½çŠ¶æ€ç»„ä»¶
â”œâ”€â”€ composables/          # ç»„åˆå¼API
â”‚   â”œâ”€â”€ useBadge.js      # çº¢ç‚¹å¾½ç« ç®¡ç†
â”‚   â”œâ”€â”€ useMessage.js    # æ¶ˆæ¯ç®¡ç†
â”‚   â””â”€â”€ useOrder.js      # è®¢å•ç®¡ç†
â”œâ”€â”€ constants/            # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€ index.js         # é¡¹ç›®å¸¸é‡ï¼ˆçŠ¶æ€ã€è·¯ç”±ç­‰ï¼‰
â”œâ”€â”€ mock/                 # æ¨¡æ‹Ÿæ•°æ®
â”‚   â””â”€â”€ index.js         # ç»Ÿä¸€çš„æ¨¡æ‹Ÿæ•°æ®ç®¡ç†
â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ index/           # é¦–é¡µ
â”‚   â”œâ”€â”€ category/        # åˆ†ç±»é¡µ
â”‚   â”œâ”€â”€ message/         # æ¶ˆæ¯é¡µ
â”‚   â”œâ”€â”€ user/            # ç”¨æˆ·é¡µ
â”‚   â”œâ”€â”€ goods-detail/    # äº§å“è¯¦æƒ…
â”‚   â”œâ”€â”€ search/          # æœç´¢é¡µ
â”‚   â”œâ”€â”€ order-list/      # è®¢å•åˆ—è¡¨
â”‚   â””â”€â”€ chat-detail/     # èŠå¤©è¯¦æƒ…
â”œâ”€â”€ static/              # é™æ€èµ„æº
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ router.js        # è·¯ç”±ç®¡ç†
â”‚   â””â”€â”€ orderStatus.js   # è®¢å•çŠ¶æ€é…ç½®
â”œâ”€â”€ App.vue              # åº”ç”¨æ ¹ç»„ä»¶
â”œâ”€â”€ main.js              # åº”ç”¨å…¥å£
â”œâ”€â”€ pages.json           # é¡µé¢é…ç½®
â””â”€â”€ uni.scss             # å…¨å±€æ ·å¼
```

## ğŸ”´ çº¢ç‚¹å¾½ç« ç³»ç»Ÿ

### åŠŸèƒ½ç‰¹ç‚¹

1. **ç»Ÿä¸€ç®¡ç†**: ä½¿ç”¨ `useBadge` ç»„åˆå¼APIç»Ÿä¸€ç®¡ç†æ‰€æœ‰çº¢ç‚¹çŠ¶æ€
2. **å“åº”å¼æ›´æ–°**: åŸºäºVue3å“åº”å¼ç³»ç»Ÿï¼Œæ•°æ®å˜åŒ–è‡ªåŠ¨æ›´æ–°UI
3. **ç±»å‹å®‰å…¨**: ä½¿ç”¨TypeScriptç±»å‹å®šä¹‰ï¼Œç¡®ä¿æ•°æ®ç±»å‹æ­£ç¡®
4. **åŠ¨ç”»æ•ˆæœ**: çº¢ç‚¹æ”¯æŒè„‰å†²åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
5. **æ™ºèƒ½æ˜¾ç¤º**: æ”¯æŒæ•°å­—å¾½ç« å’Œå°çº¢ç‚¹ä¸¤ç§æ˜¾ç¤ºæ¨¡å¼

### ä½¿ç”¨æ–¹å¼

#### 1. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨çº¢ç‚¹

```javascript
import { useGlobalBadge } from '@/composables/useBadge'

export default {
  setup() {
    const { tabBarBadges, getBadgeCount } = useGlobalBadge()
    
    return {
      tabBarBadges,
      getBadgeCount
    }
  }
}
```

#### 2. æ›´æ–°çº¢ç‚¹æ•°é‡

```javascript
const { updateMessageBadge, updateOrderBadge } = useGlobalBadge()

// æ›´æ–°æ¶ˆæ¯çº¢ç‚¹
updateMessageBadge('chat', 5)

// æ›´æ–°è®¢å•çº¢ç‚¹
updateOrderBadge('pending', 3)
```

#### 3. æ¸…é™¤çº¢ç‚¹

```javascript
const { clearBadge } = useGlobalBadge()

// æ¸…é™¤æ‰€æœ‰æ¶ˆæ¯çº¢ç‚¹
clearBadge('message')

// æ¸…é™¤ç‰¹å®šç±»å‹çš„çº¢ç‚¹
clearBadge('message', 'chat')
```

### çº¢ç‚¹ç±»å‹

#### æ¶ˆæ¯çº¢ç‚¹
- `total`: æ€»æœªè¯»æ¶ˆæ¯æ•°
- `chat`: èŠå¤©æ¶ˆæ¯æœªè¯»æ•°
- `system`: ç³»ç»Ÿæ¶ˆæ¯æœªè¯»æ•°
- `service`: å®¢æœæ¶ˆæ¯æœªè¯»æ•°
- `order`: è®¢å•æ¶ˆæ¯æœªè¯»æ•°

#### è®¢å•çº¢ç‚¹
- `pending`: å¾…ä»˜æ¬¾è®¢å•æ•°
- `processing`: å¾…äº¤ä»˜è®¢å•æ•°
- `shipping`: å¾…æ”¶è´§è®¢å•æ•°
- `refunding`: é€€æ¬¾ä¸­è®¢å•æ•°

## ğŸ¨ æ ·å¼è§„èŒƒ

### çº¢ç‚¹æ ·å¼

```scss
.tab-badge {
  position: absolute;
  top: -8rpx;
  right: -12rpx;
  background: #ff4d4f;
  color: #fff;
  font-size: 18rpx;
  font-weight: bold;
  border-radius: 20rpx;
  min-width: 32rpx;
  height: 32rpx;
  animation: badge-pulse 2s infinite;
  
  &--dot {
    min-width: 16rpx;
    height: 16rpx;
    border-radius: 50%;
    animation: dot-pulse 2s infinite;
  }
}
```

### åŠ¨ç”»æ•ˆæœ

```scss
@keyframes badge-pulse {
  0%, 100% { transform: scale(0.9); }
  50% { transform: scale(1); }
}

@keyframes dot-pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.8; }
}
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„çº¢ç‚¹ç±»å‹

1. åœ¨ `constants/index.js` ä¸­å®šä¹‰æ–°çš„å¸¸é‡
2. åœ¨ `useBadge.js` ä¸­æ·»åŠ å¯¹åº”çš„çŠ¶æ€ç®¡ç†
3. åœ¨ç›¸å…³ç»„ä»¶ä¸­ä½¿ç”¨æ–°çš„çº¢ç‚¹ç±»å‹

### è‡ªå®šä¹‰çº¢ç‚¹æ ·å¼

1. åœ¨ç»„ä»¶çš„æ ·å¼ä¸­è¦†ç›–é»˜è®¤æ ·å¼
2. ä½¿ç”¨CSSå˜é‡è¿›è¡Œä¸»é¢˜å®šåˆ¶
3. æ·»åŠ è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ

## ğŸ“± å…¼å®¹æ€§

- å¾®ä¿¡å°ç¨‹åº
- H5
- App (iOS/Android)
- æ”¯ä»˜å®å°ç¨‹åº
- ç™¾åº¦å°ç¨‹åº

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

1. **æŒ‰éœ€åŠ è½½**: ç»„åˆå¼APIæ”¯æŒæŒ‰éœ€å¼•å…¥
2. **å“åº”å¼ä¼˜åŒ–**: ä½¿ç”¨computedè®¡ç®—å±æ€§é¿å…ä¸å¿…è¦çš„é‡æ–°è®¡ç®—
3. **å†…å­˜ç®¡ç†**: å…¨å±€å•ä¾‹æ¨¡å¼ï¼Œé¿å…é‡å¤åˆ›å»ºå®ä¾‹
4. **åŠ¨ç”»ä¼˜åŒ–**: ä½¿ç”¨CSS3åŠ¨ç”»ï¼Œæ€§èƒ½æ›´å¥½

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-01-15)
- âœ¨ é‡æ„é¡¹ç›®ç›®å½•ç»“æ„ï¼Œç¬¦åˆå‰ç«¯å·¥ç¨‹è§„èŒƒ
- âœ¨ æ–°å¢çº¢ç‚¹å¾½ç« ç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€æ˜¾ç¤ºå’Œæ›´æ–°
- âœ¨ ä½¿ç”¨Vue3ç»„åˆå¼APIï¼Œæå‡ä»£ç å¤ç”¨æ€§
- âœ¨ ä¼˜åŒ–TabBarç»„ä»¶ï¼Œæ”¯æŒçº¢ç‚¹åŠ¨ç”»æ•ˆæœ
- ğŸ› ä¿®å¤è´­ç‰©è½¦åŠŸèƒ½ç›¸å…³é—®é¢˜
- ğŸ“š å®Œå–„é¡¹ç›®æ–‡æ¡£å’Œå¼€å‘æŒ‡å—

### v1.0.0 (2024-01-01)
- ğŸ‰ é¡¹ç›®åˆå§‹åŒ–
- âœ¨ åŸºç¡€é¡µé¢å’Œç»„ä»¶å¼€å‘
- âœ¨ æ¶ˆæ¯å’Œè®¢å•åŠŸèƒ½å®ç°
